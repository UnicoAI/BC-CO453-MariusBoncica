@model IEnumerable<WebApps.Models.Post>


@{
    ViewData["Title"] = "MB Network Application";
}
<div class="text-center jumbotron justify-content-center">

    <figure>
        <div class="flip-card-container" style="max-width:70%;margin-left:15%">
            <h1>
                Network App
            </h1>
            <div class="flip-card">
                <div class="flip-card-front">
                    <h1>


                        <span class="gradient-color-text">

                            By Marius Boncica
                        </span>
                    </h1>
                    <img src="https://www.bing.com/th?id=OIP.wLqTEJQjry6djViQdtHd1wHaFj&w=137&h=103&c=8&rs=1&qlt=90&o=6&dpr=1.5&pid=3.1&rm=2">

                </div>
                <div class="flip-card-back">
                    <h2>
                        <span class="gradient-color-text">
                            This App will allow you to
                           post a message, post a photo with caption and timestamp .Add likes, unlike and comments. Manage and filter posts.
                        </span>
                    </h2>



                </div>
            </div>
        </div>
    </figure>
</div>
<header class="main-header u-flex">
    <div class="start u-flex">
        <a class="logo">M</a>
        <div class="search-box-wrapper">
            <form asp-action="Index" method="get">
                <div class="form-action no-color">

                    <input type="text" class="search-box" name="userName" placeholder="Search Posts" />
                    <span type="submit" class="icon-search"  style="width:100px" />🔎</span>

                </div>
            </form>
            
        </div>
    </div>
    <nav class="main-nav">
        <ul class="main-nav-list u-flex">
            <li class="main-nav-item u-only-wide"><a asp-action="Index" asp-controller="Posts" aria-label="Homepage" class="main-nav-button alt-text is-selected"><span class="icon" aria-hidden="true">🏠</span></a></li>
            <li class="main-nav-item u-only-wide"><a asp-action="Index" asp-controller="MessagePosts" aria-label="MessagePosts" class="main-nav-button alt-text"><span class="icon" aria-hidden="true">🏁</span></a></li>
            <li class="main-nav-item u-only-wide"><a asp-action="Index" asp-controller="PhotoPosts" aria-label=" PhotoPosts" class="main-nav-button alt-text"><span class="icon" aria-hidden="true">📺</span></a></li>
            <li class="main-nav-item u-only-wide">
                <a asp-controller="MessagePosts" asp-action="Create" class="icon-button alt-text" aria-label="Create Message Post"><span class="icon" aria-hidden="true">💬</span></a>
            </li>
            <li class="main-nav-item u-only-wide">
                <a asp-controller="Photoposts" asp-action="Create" class="icon-button alt-text" aria-label="Create Photo Post"><span class="icon" aria-hidden="true">➕</span></a>
            </li>
            

        </ul>
    </nav>
    <div class="end"></div>
</header>



<nav class="user-nav">
    <ul class="user-nav-list u-flex">
        <li class="user-nav-item">
            <a class="user">
                <img class="user-image" src="~/images/drive.jpg" height="28" width="28" alt="">
                <span class="user-name">Marius Boncica</span>
            </a>
        </li>
        <li class="user-nav-item">
            <a asp-controller="Photoposts" asp-action="Create" class="icon-button alt-text" aria-label="Create Photo Post"><span class="icon" aria-hidden="true">➕</span></a>
        </li>
        <li class="user-nav-item">
            <a asp-controller="Messageposts" asp-action="Create"class="icon-button alt-text" aria-label="Create Message Post"><span class="icon" aria-hidden="true">💬</span></a>
        </li>
       
    </ul>
</nav>

<main class="main-feed">
    @foreach (var item in Model) {
            MessagePost message = null;
           PhotoPost photo = null;
        Comment comments = null;

            if(item is MessagePost)
            {
                message = (MessagePost)item;
            }
            if(item is PhotoPost)
            {
                photo = (PhotoPost)item;
            }
    <ul class="main-feed-list">
        <li class="main-feed-item">
            <article class="common-post">
                <header class="common-post-header u-flex">

                    <img src="~/images/running.jpg" class="user-image" width="40" height="40" alt="">
                    
                    <div class="common-post-info">
                        <div class="user-and-group u-flex">

                                <a href="https://www.facebook.com/unicolondon" target="_blank">
                                   Post ID: @Html.DisplayFor(modelItem => item.PostId) |

                                       User Name: @Html.DisplayFor(modelItem => item.Username)
                                   
                                </a>
                        </div>

                        <div class="time-and-privacy" style="font-size:14px;"><time datetime="">@item.FormatElapsedTime() </time><span class="icon icon-privacy">🌎</span></div>
                    </div>
                    <a class="icon-button-2 u-margin-inline-start" asp-action="Details" aria-label="Details"><span class="icon-menu"></span></a>
                </header>
                <div class="common-post-content common-content">
                    <p>  @if (message != null){
                        <b>  <a asp-controller="MessagePosts" asp-action="Details" asp-route-id="@item.PostId">
                            <span>@message.Message</span>
                                <p>
                                <img src="https://th.bing.com/th/id/OIP.0WIqncqOmlUerEAD3ZFjUAHaFa?w=230&h=180&c=7&r=0&o=5&dpr=1.5&pid=1.7"  style="width:80%; height:450px;margin-left:10%; border:50px;border-radius:20px;animation: nudge 2s linear infinite !important;">
</a>
                           </b><br> <br>
                  }
                  @if (photo != null)
                            {
                                <b>   <a asp-controller="PhotoPosts" asp-action="Details" asp-route-id="@item.PostId">
                                        <span>@photo.Caption"</span>  
                                    </a></b><br><br>

                                    <a asp-controller="PhotoPosts" asp-action="Details" asp-route-id="@item.PostId">
                                <img class="embed-content-image" src="/images/@photo.Filename" style="width:80%; height:450px;margin-left:10%; border:50px;border-radius:20px;animation: nudge 2s linear infinite !important;">
                           </a>
                           }
                    </div>
                <div class="summary u-flex">
                    <div class="reactions">❤️</div>
                        <div class="reactions-total">@Html.DisplayFor(modelItem => item.Likes)</div>
                    <div class="total-comments u-margin-inline-start">
                            @if (comments != null)
                            {
                                <a asp-controller="Comments"  asp-action="Index" asp-route-id="@item.PostId">   
                                    @Html.DisplayFor(ModelItem => item.Comments)
                                </a>
                            }
                            
                    </div>
                </div>
                <section class="actions-buttons">
                    <ul class="actions-buttons-list u-flex">
                        <li class="actions-buttons-item"><a class="actions-buttons-button"  asp-action="Like" asp-route-id="@item.PostId"><span class="icon">👍</span><span class="text">Like</span></a></li>
                            <li class="actions-buttons-item"><a class="actions-buttons-button"  asp-action="Unlike" asp-route-id="@item.PostId"><span class="icon">👎</span><span class="text">Unlike</span></a></li>
                            <li class="actions-buttons-item"><a class="actions-buttons-button" asp-controller="Comments" asp-action="Index" asp-route-id="@item.PostId"><span class="icon">💬</span><span class="text">View Comments</span></a></li>
                            <li class="actions-buttons-item"><a class="actions-buttons-button" asp-controller="Comments"  asp-action="Create" asp-route-id="@item.PostId"><span class="icon">💬</span><span class="text">Add Comment</span></a></li>
                        
                    </ul>
                </section>
            </article>
        </li>
        </ul>
        }
        </main>


<style>
    /****** Style For Facebook Look *******/
*,
*::before,
*::after {
  box-sizing: border-box;
}

button {
  font-family: inherit;
  font-size: inherit;
  background-color: transparent;
  color: inherit;
  border-width: 0;
  padding: 0;
  margin: 0;
  cursor: pointer;
  text-align: inherit;
}

a {
  text-decoration: none;
  color: inherit;
  cursor: pointer;
}

img {
  display: block;
  max-width: 100%;
}


/* Native CSS variables */
:root {
  /* colors */
  --main-color:#1877f2;
  --text-color:#050505;
  --full-color:255 255 255;
  --empty-color:0 0 0;
  /* white default*/
  --abalance1:rgba(var(--full-color) / 1);
  --abalance80:rgba(var(--full-color) / 0.80);
  /* black default*/
  --balance1:rgb(var(--empty-color) / 0.05);
  --balance2:rgb(var(--empty-color) / 0.10);
  --balance3:rgb(var(--empty-color) / 0.15);
  --balance4:rgb(var(--empty-color) / 0.20);
  --balance8:rgb(var(--empty-color) / 0.60);
  --balance10:rgb(var(--empty-color) / 0.80);
  --balance-full:#f0f2f5;
  /* sizes */
  --height-header:40px;
  /* common sizes */
  --size1:4px;
  --size2:calc(var(--size1) * 2);
  --size3:calc(var(--size1) * 3);
  --size4:calc(var(--size1) * 4);
}

/* utilities classes (always with !important)*/
.u-flex {
  display: flex !important;
}

.u-hide {
  display: none !important;
}

.u-margin-inline-start {
  margin-inline-start: auto !important;
}

/* animation */

.u-animation-click {
  animation: clickableAnimation 10s ease-in-out -7s infinite;
}

/* icons */
.icon-arrow-block-end {
  width: 0;
  height: 0;
  border: solid 0 transparent;
  border-width: 5px 7px;
  border-inline-start-color: var(--balance10);
  margin: auto 0;
}

.icon-privacy {
  filter: grayscale(1) opacity(0.8);
}

.icon-menu {
  text-align: center;
}
.icon-menu::before {
  content: "";
  display: inline-block;
  vertical-align: middle;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background-color: var(--balance10);
  box-shadow: -6px 0px var(--balance10), 6px 0px var(--balance10);
}

.icon-hamburger {
  width: 20px;
  height: 3px;
  background-color: var(--balance10);
  box-shadow: 0px 10px, 0px -10px;
}

.icon-search {
  filter: grayscale(1) opacity(0.8);
  transition: 0.3s;
}

/*mixin*/
/*scrolls*/
::-webkit-scrollbar {
  width: 6px !important;
  height: 6px !important;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0);
}

:hover::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
}

::-webkit-scrollbar-track {
  background-color: rgba(255, 255, 255, 0);
}

/* typography */


body {
 
  overflow-x: hidden;
}



/* Grid Layout */
.common-structure {
  display: grid;
}
.common-structure > *:not(.main-header):not(.user-nav) {
  padding: var(--size4) var(--size2);
}


.main-header {
  grid-area: header;
}

.side-a {
  grid-area: side-a;
}

.main-feed {
  grid-area: main;
}

.side-b {
  grid-area: side-b;
}

.side-a, .side-b {
  width: 320px;
  overflow-y: auto;
  scrollbar-width: thin;
  position: sticky;
  top: 60px;
  max-height: calc(100vh - 60px);
  overflow: auto;
}



/* elements */
.section-title {
  color: var(--balance8);
  font-size: 16rem;
  font-weight: bold;
  padding: var(--size1) var(--size3);
  padding-block-start: 24px;
}

.logo {
  display: block;
  flex-shrink: 0;
  width: var(--height-header);
  height: var(--height-header);
  border-radius: 50%;
  color: white;
  text-align: center;
  font-size: var(--height-header);
  font-weight: bold;
  background-image: linear-gradient(#19aeff, #0164e1);
}

.search-box {
  width: 100%;
  padding: var(--size3);
  padding-inline-start: 40px;
  border-width: 0;
  background-color: var(--balance1);
  border-radius: calc(var(--height-header) / 2);
  transition: 0.3s;
  -webkit-appearance: textfield;
}
.search-box:focus {
  outline: none;
  background-color: var(--balance2);
}
.search-box:focus + .icon-search {
  filter: grayscale(0.2) opacity(0.95);
}
.search-box-wrapper {
  position: relative;
  flex: 1;
}
.search-box-wrapper .icon-search {
  position: absolute;
  top: 10px;
  left: 12px;
}

.icon-button {
  display: flex;
  width: var(--height-header);
  height: var(--height-header);
  border-radius: 50%;
  background-color: var(--balance2);
}
.icon-button .icon {
  margin: auto;
}
.icon-button:hover, .icon-button:focus {
  background-color: var(--balance3);
}

.icon-button-2 {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  text-align: center;
}
.icon-button-2 .icon-menu::before {
  vertical-align: 3px;
}
.icon-button-2:hover, .icon-button-2:focus {
  background-color: var(--balance1);
}

.common-more {
  background-color: var(--balance1);
  border-radius: var(--size2);
  height: 36px;
  width: calc(100% - var(--size4));
  margin: var(--size2);
  text-align: center;
}
.common-more .text {
  font-weight: bold;
}
.common-more .icon {
  font-size: 12rem;
  filter: grayscale(100%);
  opacity: 0.8;
}
.common-more:hover, .common-more:focus {
  background-color: var(--balance2);
}

.user {
  display: flex;
  padding: var(--size1);
  margin: auto 0;
  border-radius: calc(var(--height-header) / 2);
}
.user:hover, .user:focus {
  background-color: var(--balance1);
}
.user-image {
  border-radius: 50%;
  margin-inline-end: var(--size2);
}
.user-name {
  margin: auto 0;
  font-weight: bold;
  padding-inline-end: var(--size1);
}
.user-nav {
  padding: 10px 16px;
}
.user-nav .icon {
  filter: grayscale(100%);
}
.user-nav-list {
  justify-content: flex-end;
}
.user-nav-item {
  display: flex;
  margin-inline-end: var(--size2);
}


.alt-text {
  position: relative;
}
.alt-text:hover::before, .alt-text:focus::before {
  content: attr(aria-label);
  display: block;
  padding: var(--size2);
  border-radius: var(--size1);
  position: absolute;
  top: calc(100% + var(--size2));
  left: 50%;
  transform: translatex(-50%);
  color: var(--abalance80);
  background-color: var(--balance10);
}

/* compnenets */
.main-header {
  position: sticky;
  z-index: 2;
  top: 0;
  background-color: var(--abalance1);
  box-shadow: -2px -1px 5px 2px var(--balance4);
}
.main-header .start,
.main-header .end {
  width: 320px;
  padding: 10px 16px;
}
.main-header .start {
  padding: 10px 16px;
}
.main-header .main-nav {
  flex: 1;
  max-width: 680px;
  margin: 0 auto;
}
.main-header .logo {
  margin-inline-end: var(--size2);
}

  .main-header .user-nav {
    width: 100%;
    box-shadow: -2px -1px 5px 2px var(--balance4);
  }
  .main-header .user-nav-list {
    justify-content: space-between;
  }
}

.main-nav-list {
  height: 100%;
}
.main-nav-button {
  display: flex;
  height: 100%;
  text-align: center;
  padding: 0 var(--size4);
  border: solid 3px transparent;
  border-radius: var(--size2);
  background-clip: padding-box;
  transition: background 0.3s;
}
.main-nav-button .icon {
  margin: auto;
  filter: grayscale(100%);
  opacity: 0.8;
  font-size: 22px;
}
.main-nav-button:hover, .main-nav-button:focus {
  outline: 0;
}
.main-nav-button:hover:not(.is-selected), .main-nav-button:focus:not(.is-selected) {
  background-color: var(--balance1);
}
.main-nav-button.is-selected {
  border-bottom-color: var(--main-color);
  border-radius: 0;
}
.main-nav-button.is-selected .icon {
  opacity: 1;
  filter: grayscale(0%);
}

.common-section {
  color: var(--balance10);
}
.common-section:not(:first-child)::before {
  content: "";
  display: block;
  margin: var(--size1) var(--size2);
  border-top: solid 1px var(--balance4);
}

.common-list-button {
  display: flex;
  height: 52px;
  padding: var(--size2);
}
.common-list-button > * {
  margin: auto 0;
}
.common-list-button img {
  border-radius: var(--size2);
}
.common-list-button .user-image {
  border-radius: 50%;
}
.common-list-button .icon {
  width: 36px;
  font-size: 24px;
  text-align: center;
  margin-top: auto;
  margin-bottom: auto;
  margin-inline-end: var(--size2);
}
.common-list-button .text {
  font-weight: bold;
}
.common-list-button:hover, .common-list-button:focus {
  background-color: var(--balance1);
  border-radius: var(--size2);
}
.common-list-button.is-ads {
  height: auto;
}
.common-list-button.is-ads .image {
  width: 115px;
  flex-shrink: 0;
  margin-inline-end: var(--size3);
}
.common-list-button.is-ads .ads-url {
  font-weight: normal;
}

/* post parts */
.common-post {
  padding: var(--size3) var(--size4);
  padding-block-end: var(--size1);
  margin-block-end: var(--size4);
  background-color: var(--abalance1);
  border-radius: var(--size2);
  box-shadow: 0 1px 2px var(--balance4);
}
.common-post-header {
  margin-bottom: var(--size2);
}

.user-and-group {
  font-weight: bold;
}
.user-and-group .icon-arrow-block-end {
  margin-inline-start: var(--size2);
}

.time-and-privacy {
  font-size: 13rem;
}
.time-and-privacy > *:not(:first-child)::before {
  content: "";
  vertical-align: bottom;
  display: inline-block;
  width: 2px;
  height: 2px;
  background-color: var(--balance10);
  margin: var(--size2);
}

.summary > * + * {
  margin-inline-start: var(--size1);
}

.total-comments a:hover, .total-comments a:focus {
  text-decoration: underline;
}

.reactions {
  letter-spacing: -2px;
}

.common-content b {
  font-weight: bold;
}
.common-content p {
  margin-bottom: var(--size1);
}
.common-content a:not(.embed-content) {
  color: var(--main-color);
}
.common-content a:not(.embed-content):hover, .common-content a:not(.embed-content):focus {
  text-decoration: underline;
}
.common-content img:not(.embed-content-image) {
  display: block;
  width: calc(100% + 32px);
  margin: 16px -16px;
  max-width: none;
}

.embed-content {
  display: block;
  background-color: var(--balance1);
  margin: 16px -16px;
}
.embed-content-text {
  padding: var(--size3) var(--size4);
}
.embed-content-info {
  text-transform: uppercase;
  color: var(--balance8);
  font-size: 13rem;
  margin-bottom: var(--size1);
}
.embed-content-title {
  font-weight: bold;
}
.embed-content-paragraph {
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  display: block;
  color: var(--balance8);
}
.embed-content-image {
  width: 100%;
}

.actions-buttons {
  padding-top: var(--size1);
  margin-top: var(--size2);
  border-top: solid 1px var(--balance4);
}
.actions-buttons-item {
  flex: 1;
}
.actions-buttons-button {
  width: 100%;
  text-align: center;
  height: 32px;
  border-radius: var(--size1);
}
.actions-buttons-button:hover, .actions-buttons-button:focus {
  background-color: var(--balance1);
}
.actions-buttons-button .icon {
  margin-inline-end: var(--size1);
  filter: grayscale(1);
}

/*entitiy*/
.e-dark-mode-button {
  position: fixed;
  z-index: 2;
  right: var(--size4);
  bottom: var(--size4);
}


/* Dark mode colors */
.is-dark {
  --full-color: 0 0 0;
  --empty-color: 245 245 245;
  --text-color: #e5e5e5;
  --balance-full:#181818;
  --abalance1:rgba(var(--empty-color) / 0.05);
}
.is-dark .main-header {
  background-color: #252525;
}
</style>